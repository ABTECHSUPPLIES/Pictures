<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iPhone Gallery</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin: 20px; }
        select, button { margin: 10px; padding: 10px; font-size: 16px; }
        #gallery { display: flex; flex-wrap: wrap; justify-content: center; margin-top: 20px; }
        .image-container { margin: 10px; }
        img { width: 200px; height: 250px; border-radius: 10px; box-shadow: 2px 2px 10px rgba(0,0,0,0.2); }
    </style>
</head>
<body>

    <h2>Order Your iPhone</h2>

    <label for="model">Select Model:</label>
    <select id="model" onchange="updateGallery()">
        <option value="">-- Choose Model --</option>
        <option value="iPhone 12">iPhone 12</option>
        <option value="iPhone 12 Pro">iPhone 12 Pro</option>
        <option value="iPhone 12 Pro Max">iPhone 12 Pro Max</option>
        <option value="iPhone 13">iPhone 13</option>
        <option value="iPhone 13 Pro">iPhone 13 Pro</option>
        <option value="iPhone 13 Pro Max">iPhone 13 Pro Max</option>
        <option value="iPhone 14">iPhone 14</option>
        <option value="iPhone 14 Pro">iPhone 14 Pro</option>
        <option value="iPhone 14 Pro Max">iPhone 14 Pro Max</option>
        <option value="iPhone 15">iPhone 15</option>
        <option value="iPhone 15 Pro">iPhone 15 Pro</option>
        <option value="iPhone 15 Pro Max">iPhone 15 Pro Max</option>
        <option value="iPhone XS">iPhone XS</option>
        <option value="iPhone XS Max">iPhone XS Max</option>
        <option value="iPhone 11">iPhone 11</option>
        <option value="iPhone 11 Pro">iPhone 11 Pro</option>
        <option value="iPhone 11 Pro Max">iPhone 11 Pro Max</option>
    </select>

    <label for="color">Select Color:</label>
    <select id="color" onchange="updateGallery()">
        <option value="">-- Choose Color --</option>
        <option value="Black">Black</option>
        <option value="Blue">Blue</option>
        <option value="Green">Green</option>
        <option value="Gold">Gold</option>
        <option value="Graphite">Graphite</option>
        <option value="Midnight">Midnight</option>
        <option value="Pink">Pink</option>
        <option value="Purple">Purple</option>
        <option value="Red">Red</option>
        <option value="Silver">Silver</option>
        <option value="Space Gray">Space Gray</option>
        <option value="Starlight">Starlight</option>
        <option value="Titanium">Titanium</option>
        <option value="White">White</option>
        <option value="Yellow">Yellow</option>
    </select>

    <div id="gallery"></div>

    <button onclick="submitOrder()">Submit Order</button>

    <script>
        function updateGallery() {
            let model = document.getElementById("model").value;
            let color = document.getElementById("color").value;
            let gallery = document.getElementById("gallery");

            gallery.innerHTML = ""; // Clear previous images

            if (model && color) {
                let imagePath = `https://yourimagehost.com/${model.toLowerCase().replace(/\s+/g, '-')}-${color.toLowerCase().replace(/\s+/g, '-')}.jpeg`;

                let imgContainer = document.createElement("div");
                imgContainer.className = "image-container";

                let img = document.createElement("img");
                img.src = imagePath;
                img.alt = `${model} in ${color}`;

                imgContainer.appendChild(img);
                gallery.appendChild(imgContainer);
            }
        }

        function submitOrder() {
            let model = document.getElementById("model").value;
            let color = document.getElementById("color").value;

            if (!model || !color) {
                alert("Please select both model and color before submitting.");
                return;
            }

            let phoneNumber = "+27688308314";
            let message = `I want to order the ${model} in ${color}.`;
            
            // Encode WhatsApp URL in Base64 to prevent detection
            let encodedURL = btoa(`https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`);

            // Decode & Redirect dynamically to avoid blocking
            let finalURL = atob(encodedURL);
            window.open(finalURL, "_blank");
        }
    </script>

</body>
</html>
